<%= render "create_cluster.html.erb"%>
<div class="row">
  <div class="col-md-12">
    <div>
      <h2 id="spark-clusters-title">Spark Clusters</h2>
    </div>

    <table id="spark-clusters-table" class="table table-striped table-condensed">
      <div class="row form-group">
        <div class="col-xs-7">
          <span>
            Launch an interactive analysis environment based on Jupyter notebooks, Spark, and Hail. This beta feature is under active development. See documentation <a href="https://software.broadinstitute.org/firecloud/documentation/quickstart?page=notebooks" target="_blank">here<span class="fa-external-link fa "></span></a>
          </span>
        </div>
        <div class="col-xs-3">
        </div>
        <div class="col-xs-2">
          <a id="create-modal-button" state="enabled" class="pull-right button btn btn-md btn-primary" href="javascript:;" data-toggle="modal" data-target="#clusterModal"><span>Create Cluster</span></a>
        </div>
      </div>
      <div class="row" id="no_clusters_well">
        <div class="col-lg-12">
          <div id="message-well" class="well">
            <h4 class="text-center">There are no clusters to display.</h4>
          </div>
        </div>
      </div>
    </table>
  </div>
</div>
<span></span>
<button id="activate_datatable">Switch to datatable</button>
<script type="text/javascript" nonce="<%= content_security_policy_script_nonce %>">
    $('#activate_datatable').click(function () {
        $('#spark-clusters-table').DataTable( {
            data: [],
            columns: [
                { title: "Status" },
                { title: "Create Data" },
                { title: "master Machine Type" },
                { title: "Master Disk Size (GB)" },
                { title: "Name" },
                { title: "Workers" },
                { title: "Worker Machine Type" },
                { title: "Worker Disk Size (GB)" },
                { title: "Worker Local SSDs" },
                { title: "Preemptible Workers" },
                { title: "Labels" }
            ],
            autoWidth: false,
            paging: true,
            buttons: [{ extend: 'columnsToggle', className: 'btn btn-large btn-primary' }, {extend: 'filter', className: 'excelButton' }]
        } );
        $('#no_clusters_well').hide()
    });
</script>
